<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Main page</title>
</head>
<body class="bg-gray-900 h-screen flex items-center justify-center">
    <div class="bg-blue-50 rounded-md p-9 text-center w-fit">
        <h2 class="text-3xl mb-8">Instagram SignUp</h2>
         <form action="" class="grid grid-cols-2 gap-y-5">
            <label class="text-xl text-start" for="username">Username:</label>
            <input class="bg-gray-400 text-white px-2 text-base " type="text" id="username">
            <label class="text-xl text-start" for="email">Email:</label>
            <input class="bg-gray-400 text-white px-2 text-lg" type="email" id="email">
            <label class="text-xl text-start" for="password">Password:</label>
            <input class="bg-gray-400 text-white px-2 text-lg" type="password" id="password">
            <label class="text-xl text-start" for="bio">Bio:</label>
            <input class="bg-gray-400 text-white px-2 text-lg" type="text" id="bio">
            <label class="text-xl text-start" for="Name">Name:</label>
            <input class="bg-gray-400 text-white px-2 text-lg" type="text" id="name">
            <button type="submit" id="submit" class="text-white bg-blue-700 px-5 py-2 mr-2">REGISTER</button>
            
         </form>

   </div>
   <!--------------------------javascript code---------------------> -->
   <script>
          

          
          //register button code
          const submit=document.getElementById('submit')
          submit.addEventListener('click',(e)=>{
               e.preventDefault()
               var username=document.getElementById('username').value;
               var email=document.getElementById('email').value;
               var password=document.getElementById('password').value;
               var bio=document.getElementById('bio').value;
               var Name=document.getElementById('name').value;
               if(!username || !email || !password|| !bio || !Name)
               {
                 alert("All fields are required.")
                 return;
               }
               const UserData={
                username,
                email,
                password,
                bio,
                name:Name
               }
               registerData(UserData)
          })
          const registerData=async (payload)=>{
            try {
                const res=await fetch("https://mango-fireman-dwpep.pwskills.app:5000/signup",{
                    method:"POST",
                    headers:{"Content-type":"application/json",
                             "Access-Control-Allow-Origin":"*"
                            },
                    body:JSON.stringify(payload)
                })
                const data=await res.json()
                console.log(data)
                window.location.href="https://mango-fireman-dwpep.pwskills.app:5500/client/login.html"
            } catch (error) {
                console.log(error.message)
            }
          }

   </script>
</body>
</html>